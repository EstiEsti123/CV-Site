<!-- <!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>×”×¤×•×¨×˜×¤×•×œ×™×• ×©×œ×™</title>
    <style>
        body { font-family: sans-serif; background: #f4f4f9; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; width: 100%; max-width: 1000px; }
        .card { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); border-top: 5px solid #007bff; }
        .card h3 { margin-top: 0; color: #333; }
        .info { font-size: 0.9em; color: #666; margin-bottom: 10px; }
        .btn { display: inline-block; padding: 8px 12px; background: #007bff; color: white; text-decoration: none; border-radius: 5px; }
    </style>
</head>
<body>

    <h1>×”×¤×¨×•×™×§×˜×™× ×©×œ×™ ×-GitHub</h1>
    <div id="projects" class="grid">×˜×•×¢×Ÿ × ×ª×•× ×™×...</div>

    <script>
        // ×¤× ×™×™×” ×œ-API ×©×‘× ×™×ª ×‘-C#
        fetch('http://localhost:5104/api/github/portfolio/EstiEsti123')
            .then(response => response.json())
            .then(data => {
                const container = document.getElementById('projects');
                container.innerHTML = ''; // × ×™×§×•×™ ×”×•×“×¢×ª ×”×˜×¢×™× ×”
                
                data.forEach(repo => {
                    container.innerHTML += `
                        <div class="card">
                            <h3>${repo.name}</h3>
                            <div class="info">×©×¤×”: ${repo.language}</div>
                            <div class="info">â­ ×›×•×›×‘×™×: ${repo.starsCount}</div>
                            <div class="info">ğŸ”„ Pull Requests: ${repo.pullRequestsCount}</div>
                            <a href="${repo.repoUrl}" target="_blank" class="btn">×¦×¤×” ×‘×’×™×˜×”××‘</a>
                        </div>
                    `;
                });
            });
    </script>
</body>
</html> -->
<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>××¢×¨×›×ª ×’×™×˜×”××‘ - ×”×¤×•×¨×˜×¤×•×œ×™×• ×©×œ×™</title>
    <style>
        body { font-family: sans-serif; background: #f4f4f9; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        .tabs { margin-bottom: 20px; }
        .tab-btn { padding: 10px 20px; cursor: pointer; border: none; background: #ddd; margin: 0 5px; border-radius: 5px; font-weight: bold; }
        .tab-btn.active { background: #007bff; color: white; }
        
        .search-area { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); margin-bottom: 20px; width: 100%; max-width: 1000px; display: none; text-align: center; }
        .search-area input { padding: 8px; margin: 5px; border: 1px solid #ccc; border-radius: 4px; }
        
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; width: 100%; max-width: 1000px; }
        .card { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); border-top: 5px solid #007bff; }
        .card h3 { margin-top: 0; color: #333; height: 50px; overflow: hidden; }
        .info { font-size: 0.9em; color: #666; margin-bottom: 10px; }
        .btn { display: inline-block; padding: 8px 12px; background: #007bff; color: white; text-decoration: none; border-radius: 5px; }
        .btn-search { background: #28a745; color: white; border: none; padding: 9px 15px; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>

    <h1>× ×™×”×•×œ ×¤×¨×•×™×§×˜×™× GitHub</h1>

    <div class="tabs">
        <button class="tab-btn active" onclick="switchTab('portfolio')">×”×¤×•×¨×˜×¤×•×œ×™×• ×©×œ×™</button>
        <button class="tab-btn" onclick="switchTab('search')">×—×™×¤×•×© ×¤×¨×•×™×§×˜×™×</button>
    </div>

    <div id="search-inputs" class="search-area">
        <input type="text" id="termInput" placeholder="×©× ×¤×¨×•×™×§×˜...">
        <input type="text" id="langInput" placeholder="×©×¤×ª ×¤×™×ª×•×—...">
        <input type="text" id="userInput" placeholder="×©× ××©×ª××©...">
        <button class="btn-search" onclick="searchRepos()">×—×¤×© ×¢×›×©×™×•</button>
    </div>

    <h2 id="view-title">×”×¤×¨×•×™×§×˜×™× ×©×œ×™</h2>

    <div id="portfolio-selector" style="background: #f9f9f9; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #eee; display: flex; gap: 10px; align-items: center;">
        <span style="font-weight: bold;">×”×¦×’×ª ××©×ª××©:</span>
        <input type="text" id="portfolioUser" placeholder="×©× ××©×ª××©..." value="EstiEsti123" 
               style="padding: 8px; border: 1px solid #ddd; border-radius: 4px; flex-grow: 1; max-width: 200px;">
        <button onclick="updatePortfolioView()" class="tab-btn active" style="padding: 8px 15px; font-size: 14px;">×”×—×œ×£ ×ª×¦×•×’×”</button>
    </div>

    <div id="projects" class="grid">×˜×•×¢×Ÿ × ×ª×•× ×™×...</div>

 <script>
    // 1. ×•×•×“××™ ×©×”×¤×•×¨×˜ ×›××Ÿ (5104) ×–×”×” ×œ××” ×©××•×¤×™×¢ ××¦×œ×š ×‘×”×¨×¦×”
    // const API_URL = 'http://localhost:5104/api/github';
    // const container = document.getElementById('projects');

    // window.onload = () => loadPortfolio();

    // function switchTab(tab) {
    //     const btns = document.querySelectorAll('.tab-btn');
    //     btns.forEach(b => b.classList.remove('active'));
        
    //     if (tab === 'portfolio') {
    //         btns[0].classList.add('active');
    //         document.getElementById('search-inputs').style.display = 'none';
    //         document.getElementById('view-title').innerText = '×”×¤×¨×•×™×§×˜×™× ×©×œ×™';
    //         loadPortfolio();
    //     } else {
    //         btns[1].classList.add('active');
    //         document.getElementById('search-inputs').style.display = 'block';
    //         document.getElementById('view-title').innerText = '×ª×•×¦××•×ª ×—×™×¤×•×© ×’×œ×•×‘×œ×™';
    //         container.innerHTML = '×”×–×™× ×• × ×ª×•× ×™× ×•×œ×—×¦×• ×¢×œ ×—×™×¤×•×©...';
    //     }
    // }

    // async function loadPortfolio() {
    //     container.innerHTML = '×˜×•×¢×Ÿ ×¤×•×¨×˜×¤×•×œ×™×•...';
    //     try {
    //         const response = await fetch(`${API_URL}/portfolio/EstiEsti123`);
    //         const data = await response.json();
    //         renderCards(data);
    //     } catch (err) {
    //         console.error(err);
    //         container.innerHTML = '×©×’×™××” ×‘×˜×¢×™× ×ª ×”×¤×•×¨×˜×¤×•×œ×™×•. ×•×“××™ ×©×”×©×¨×ª ×¨×¥.';
    //     }
    // }

    // async function searchRepos() {
    //     const term = document.getElementById('termInput').value;
    //     const lang = document.getElementById('langInput').value;
    //     const user = document.getElementById('userInput').value;

    //     container.innerHTML = '××—×¤×© ×‘-GitHub...';
        
    //     try {
    //         // ×‘× ×™×™×ª ×”-URL ×¢× ×”×¤×¨××˜×¨×™×
    //         const url = `${API_URL}/search?term=${encodeURIComponent(term)}&language=${encodeURIComponent(lang)}&user=${encodeURIComponent(user)}`;
    //         const response = await fetch(url);
    //         const data = await response.json();
    //         renderCards(data);
    //     } catch (err) {
    //         console.error(err);
    //         container.innerHTML = '×©×’×™××” ×‘×‘×™×¦×•×¢ ×”×—×™×¤×•×©.';
    //     }
    // }

    // function renderCards(data) {
    //     container.innerHTML = '';
    //     if (!data || data.length === 0) {
    //         container.innerHTML = '×œ× × ××¦××• ×¤×¨×•×™×§×˜×™×.';
    //         return;
    //     }

    //     data.forEach(repo => {
    //         // ×©×™××™ ×œ×‘ ×œ×©××•×ª ×”×©×“×•×ª - ×”× ×—×™×™×‘×™× ×œ×”×™×•×ª ×‘×“×™×•×§ ×›××• ×‘-JSON ×©×¨××™× ×• ×§×•×“×
    //         container.innerHTML += `
    //             <div class="card">
    //                 <h3>${repo.name || '×œ×œ× ×©×'}</h3>
    //                 <div class="info">×©×¤×”: ${repo.language || '×œ× ×¦×•×™×Ÿ'}</div>
    //                 <div class="info">â­ ×›×•×›×‘×™×: ${repo.starsCount || 0}</div>
    //                 <div class="info">ğŸ”„ Pull Requests: ${repo.pullRequestsCount || 0}</div>
    //                 <a href="${repo.repoUrl}" target="_blank" class="btn">×¦×¤×” ×‘×’×™×˜×”××‘</a>
    //             </div>
    //         `;
    //     });
    // }

    // 1. ×•×•×“××™ ×©×”×¤×•×¨×˜ ×›××Ÿ (5104) ×–×”×” ×œ××” ×©××•×¤×™×¢ ××¦×œ×š ×‘×”×¨×¦×”
    const API_URL = 'http://localhost:5104/api/github';
    const container = document.getElementById('projects');

    // ×˜×¢×™× ×” ×¨××©×•× ×™×ª ×©×œ ×”×¤×•×¨×˜×¤×•×œ×™×• ×©×œ×š ×‘×¨×’×¢ ×©×”×“×£ ×¢×•×œ×”
    window.onload = () => loadPortfolio();

    // ×¤×•× ×§×¦×™×” ×œ××¢×‘×¨ ×‘×™×Ÿ ×œ×©×•× ×™×ª ×”×¤×•×¨×˜×¤×•×œ×™×• ×œ×œ×©×•× ×™×ª ×”×—×™×¤×•×©
    function switchTab(tab) {
        const btns = document.querySelectorAll('.tab-btn');
        btns.forEach(b => b.classList.remove('active'));
        
        if (tab === 'portfolio') {
            btns[0].classList.add('active');
            document.getElementById('search-inputs').style.display = 'none';
            document.getElementById('portfolio-selector').style.display = 'block';
            document.getElementById('view-title').innerText = '×”×¤×¨×•×™×§×˜×™× ×©×œ×™';
            loadPortfolio();
        } else {
            btns[1].classList.add('active');
            document.getElementById('search-inputs').style.display = 'block';
            document.getElementById('portfolio-selector').style.display = 'none';
            document.getElementById('view-title').innerText = '×ª×•×¦××•×ª ×—×™×¤×•×© ×’×œ×•×‘×œ×™';
            container.innerHTML = '×”×–×™× ×• × ×ª×•× ×™× ×•×œ×—×¦×• ×¢×œ ×—×™×¤×•×©...';
        }
    }

    // ×¤×•× ×§×¦×™×” ×œ×¢×“×›×•×Ÿ ×”×¤×•×¨×˜×¤×•×œ×™×• ×œ×¤×™ ×”×©× ×©×”×•×–×Ÿ ×‘×ª×™×‘×”
    function updatePortfolioView() {
        const newUser = document.getElementById('portfolioUser').value;
        if (newUser) {
            loadPortfolio(newUser);
        }
    }

    // ×”×¤×•× ×§×¦×™×” ×”××¨×›×–×™×ª ×œ×˜×¢×™× ×ª ×¤×•×¨×˜×¤×•×œ×™×• (××©×ª××©×ª ×‘-Cache ×©×œ ×”×©×¨×ª)
    async function loadPortfolio(username = 'EstiEsti123') {
        container.innerHTML = `<div class="info">×˜×•×¢×Ÿ ×¤×•×¨×˜×¤×•×œ×™×• ×©×œ ${username}...</div>`;
        try {
            // ×§×¨×™××” ×œ-API ×”×—×“×© ×©×‘× ×™× ×• ×‘-C#
            const response = await fetch(`${API_URL}/portfolio/${encodeURIComponent(username)}`);
            
            if (!response.ok) throw new Error("User not found");
            
            const data = await response.json();
            renderCards(data);
            
            // ×¢×“×›×•×Ÿ ×”×›×•×ª×¨×ª ×œ××©×ª××© ×©× ×‘×—×¨
            document.getElementById('view-title').innerText = '×”×¤×¨×•×™×§×˜×™× ×©×œ ' + username;
        } catch (err) {
            console.error(err);
            container.innerHTML = '<p style="color:red; padding: 20px;">×©×’×™××”: ×œ× × ×™×ª×Ÿ ×œ××¦×•× ××ª ×”××©×ª××© ××• ×©×”×©×¨×ª ×›×‘×•×™.</p>';
        }
    }

    // ×¤×•× ×§×¦×™×” ×œ×—×™×¤×•×© ×—×•×¤×©×™ ×‘-GitHub
    async function searchRepos() {
        const term = document.getElementById('termInput').value;
        const lang = document.getElementById('langInput').value;
        const user = document.getElementById('userInput').value;

        container.innerHTML = '<div class="info">××—×¤×© ×‘-GitHub...</div>';
        
        try {
            const url = `${API_URL}/search?term=${encodeURIComponent(term)}&language=${encodeURIComponent(lang)}&user=${encodeURIComponent(user)}`;
            const response = await fetch(url);
            const data = await response.json();
            renderCards(data);
        } catch (err) {
            console.error(err);
            container.innerHTML = '<p style="color:red; padding: 20px;">×©×’×™××” ×‘×‘×™×¦×•×¢ ×”×—×™×¤×•×©.</p>';
        }
    }

    // ×¤×•× ×§×¦×™×” ×©××™×™×¦×¨×ª ××ª ×›×¨×˜×™×¡×™×•×ª ×”×¢×™×¦×•×‘ (Shared UI)
    function renderCards(data) {
        container.innerHTML = '';
        if (!data || data.length === 0) {
            container.innerHTML = '<p style="padding: 20px;">×œ× × ××¦××• ×¤×¨×•×™×§×˜×™×.</p>';
            return;
        }

        data.forEach(repo => {
            container.innerHTML += `
                <div class="card">
                    <h3>${repo.name || '×œ×œ× ×©×'}</h3>
                    <div class="info"><strong>×©×¤×”:</strong> ${repo.language || '×œ× ×¦×•×™×Ÿ'}</div>
                    <div class="info">â­ <strong>×›×•×›×‘×™×:</strong> ${repo.starsCount || 0}</div>
                    <div class="info">ğŸ”„ <strong>Pull Requests:</strong> ${repo.pullRequestsCount || 0}</div>
                    <a href="${repo.repoUrl}" target="_blank" class="btn">×¦×¤×” ×‘×’×™×˜×”××‘</a>
                </div>
            `;
        });
    }

</script>